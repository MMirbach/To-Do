{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jakes\\\\Documents\\\\semester 7\\\\To-Do\\\\frontend\\\\src\\\\App.tsx\";\nimport React from \"react\";\nimport \"./styles/App.css\";\nimport Axios from \"axios\";\nimport Tasks from \"./components/tasks\";\nimport NavBar from \"./components/navbar\";\nimport Popup, { messages } from \"./components/popup\"; //\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tasks: [],\n      currentText: \"\",\n      popup: messages.none\n    };\n\n    this.componentDidMount = () => {\n      Axios.get(\"http://localhost:3001/api/get\").then(response => {\n        this.setState({\n          tasks: response.data\n        });\n      });\n    };\n\n    this.maxId = () => {\n      return this.state.tasks.reduce((max, character) => character.id > max ? character.id : max, 0);\n    };\n\n    this.handleText = currentText => {\n      this.setState({\n        currentText\n      });\n    };\n\n    this.handleAdd = async () => {\n      if (this.state.currentText) {\n        const tasks = [...this.state.tasks];\n        const newTask = {\n          id: this.maxId() + 1,\n          description: this.state.currentText,\n          checked: false\n        };\n        tasks.push(newTask);\n        await Axios.post(\"http://localhost:3001/api/add\", newTask);\n        this.setState({\n          tasks: tasks,\n          currentText: \"\"\n        });\n      }\n    };\n\n    this.handleReset = () => {\n      this.setState({\n        popup: messages.reset\n      });\n    };\n\n    this.reset = async () => {\n      const tasks = [...this.state.tasks];\n      tasks.forEach(t => {\n        t.checked = false;\n      });\n      await Axios.put(\"http://localhost:3001/api/reset\");\n      this.setState({\n        tasks: tasks,\n        popup: messages.none\n      });\n    };\n\n    this.handleDeleteDone = () => {\n      this.setState({\n        popup: messages.deleteDone\n      });\n    };\n\n    this.deleteDone = async () => {\n      const tasks = this.state.tasks.filter(t => !t.checked);\n      await Axios.delete(\"http://localhost:3001/api/deleteDone\");\n      this.setState({\n        tasks: tasks,\n        popup: messages.none\n      });\n    };\n\n    this.handleClear = () => {\n      this.setState({\n        popup: messages.clear\n      });\n    };\n\n    this.clear = async () => {\n      await Axios.delete(\"http://localhost:3001/api/clear\");\n      this.setState({\n        tasks: [],\n        popup: messages.none\n      });\n    };\n\n    this.handleDelete = async id => {\n      const tasks = this.state.tasks.filter(t => t.id !== id);\n      await Axios.delete(\"http://localhost:3001/api/delete\", {\n        data: {\n          id: id\n        }\n      });\n      this.setState({\n        tasks\n      });\n    };\n\n    this.handleToggle = async id => {\n      const tasks = [...this.state.tasks];\n      tasks.forEach(t => {\n        if (t.id === id) t.checked = !t.checked;\n      });\n      await Axios.put(\"http://localhost:3001/api/toggle\", {\n        id: id\n      });\n      this.setState({\n        tasks\n      });\n    };\n\n    this.handlePopupCancle = () => {\n      this.setState({\n        popup: messages.none\n      });\n    };\n\n    this.handleYes = () => {\n      switch (this.state.popup) {\n        case messages.reset:\n          this.reset();\n          break;\n\n        case messages.deleteDone:\n          this.deleteDone();\n          break;\n\n        case messages.clear:\n          this.clear();\n          break;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Popup, {\n        type: this.state.popup,\n        onCancel: this.handlePopupCancle,\n        onYes: this.handleYes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n        value: this.state.currentText,\n        numTasks: this.state.tasks.length,\n        numDoneTasks: this.state.tasks.filter(t => t.checked).length,\n        onText: this.handleText,\n        onAdd: this.handleAdd,\n        onReset: this.handleReset,\n        onDeleteDone: this.handleDeleteDone,\n        onClear: this.handleClear\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Tasks, {\n        tasks: this.state.tasks,\n        onDelete: this.handleDelete,\n        onToggle: this.handleToggle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jakes/Documents/semester 7/To-Do/frontend/src/App.tsx"],"names":["React","Axios","Tasks","NavBar","Popup","messages","App","Component","state","tasks","currentText","popup","none","componentDidMount","get","then","response","setState","data","maxId","reduce","max","character","id","handleText","handleAdd","newTask","description","checked","push","post","handleReset","reset","forEach","t","put","handleDeleteDone","deleteDone","filter","delete","handleClear","clear","handleDelete","handleToggle","handlePopupCancle","handleYes","render","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles/App.css\";\nimport Axios from \"axios\";\nimport { TaskTemplate } from \"./components/task\";\nimport Tasks from \"./components/tasks\";\nimport NavBar from \"./components/navbar\";\nimport Popup, { messages } from \"./components/popup\";\n//\ninterface AppState {\n    tasks: TaskTemplate[];\n    currentText: string;\n    popup: messages;\n}\n\nclass App extends React.Component {\n    state: AppState = {\n        tasks: [],\n        currentText: \"\",\n        popup: messages.none,\n    };\n\n    componentDidMount = () => {\n        Axios.get(\"http://localhost:3001/api/get\").then(response => {\n            this.setState({ tasks: response.data });\n        });\n    };\n\n    maxId = (): number => {\n        return this.state.tasks.reduce(\n            (max, character) => (character.id > max ? character.id : max),\n            0\n        );\n    };\n\n    handleText = (currentText: string): void => {\n        this.setState({ currentText });\n    };\n\n    handleAdd = async () => {\n        if (this.state.currentText) {\n            const tasks = [...this.state.tasks];\n            const newTask: TaskTemplate = {\n                id: this.maxId() + 1,\n                description: this.state.currentText,\n                checked: false,\n            };\n            tasks.push(newTask);\n            await Axios.post(\"http://localhost:3001/api/add\", newTask);\n            this.setState({ tasks: tasks, currentText: \"\" });\n        }\n    };\n\n    handleReset = (): void => {\n        this.setState({\n            popup: messages.reset,\n        });\n    };\n\n    reset = async () => {\n        const tasks = [...this.state.tasks];\n        tasks.forEach(t => {\n            t.checked = false;\n        });\n        await Axios.put(\"http://localhost:3001/api/reset\");\n        this.setState({ tasks: tasks, popup: messages.none });\n    };\n\n    handleDeleteDone = (): void => {\n        this.setState({\n            popup: messages.deleteDone,\n        });\n    };\n\n    deleteDone = async () => {\n        const tasks = this.state.tasks.filter(t => !t.checked);\n        await Axios.delete(\"http://localhost:3001/api/deleteDone\");\n        this.setState({ tasks: tasks, popup: messages.none });\n    };\n\n    handleClear = (): void => {\n        this.setState({\n            popup: messages.clear,\n        });\n    };\n\n    clear = async () => {\n        await Axios.delete(\"http://localhost:3001/api/clear\");\n        this.setState({ tasks: [], popup: messages.none });\n    };\n\n    handleDelete = async (id: number) => {\n        const tasks = this.state.tasks.filter(t => t.id !== id);\n        await Axios.delete(\"http://localhost:3001/api/delete\", {\n            data: { id: id },\n        });\n        this.setState({ tasks });\n    };\n\n    handleToggle = async (id: number) => {\n        const tasks = [...this.state.tasks];\n        tasks.forEach(t => {\n            if (t.id === id) t.checked = !t.checked;\n        });\n        await Axios.put(\"http://localhost:3001/api/toggle\", { id: id });\n        this.setState({ tasks });\n    };\n\n    handlePopupCancle = (): void => {\n        this.setState({ popup: messages.none });\n    };\n\n    handleYes = (): void => {\n        switch (this.state.popup) {\n            case messages.reset:\n                this.reset();\n                break;\n            case messages.deleteDone:\n                this.deleteDone();\n                break;\n            case messages.clear:\n                this.clear();\n                break;\n        }\n    };\n\n    render() {\n        return (\n            <div className=\"app\">\n                <Popup\n                    type={this.state.popup}\n                    onCancel={this.handlePopupCancle}\n                    onYes={this.handleYes}\n                ></Popup>\n                <NavBar\n                    value={this.state.currentText}\n                    numTasks={this.state.tasks.length}\n                    numDoneTasks={\n                        this.state.tasks.filter(t => t.checked).length\n                    }\n                    onText={this.handleText}\n                    onAdd={this.handleAdd}\n                    onReset={this.handleReset}\n                    onDeleteDone={this.handleDeleteDone}\n                    onClear={this.handleClear}\n                />\n                <Tasks\n                    tasks={this.state.tasks}\n                    onDelete={this.handleDelete}\n                    onToggle={this.handleToggle}\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}